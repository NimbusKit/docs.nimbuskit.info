<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>Nimbus: &lt;NIPhotoAlbumScrollViewDataSource&gt; Protocol Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="stylesheet.css" rel="stylesheet" type="text/css" />


<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-24278774-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>
</head>
<body>
<div id="page">
<div style="position:relative">
<div id="top"><!-- do not remove this div! -->

<div id="titlearea">
<a style="float: right;margin-right:20px;margin-top:20px" href='http://www.pledgie.com/campaigns/15519'><img alt='Click here to support Nimbus development and make a donation at www.pledgie.com !' src='http://www.pledgie.com/campaigns/15519.png?skin_name=chrome' border='0' /></a>
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">Nimbus
   &#160;<span id="projectnumber">0.9.3 - <a href="http://github.com/jverkoey/nimbus">Nimbus is proudly hosted on Github</a></span>
   </div>
   <div id="projectbrief">An iOS framework whose growth is bounded by O(documentation).</div>
  </td>
  
  
  
   
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.4-20110629 -->
</div>
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
  initNavTree('protocol_n_i_photo_album_scroll_view_data_source-p.html','');
</script>
<div id="doc-content">
<div class="header">
  <div class="headertitle">
<div class="title">&lt;NIPhotoAlbumScrollViewDataSource&gt; Protocol Reference<div class="ingroups"><a class="el" href="group___photos-_protocols.html">Photo Protocols</a></div></div>  </div>
</div>
<div class="contents">
<!-- doxytag: class="NIPhotoAlbumScrollViewDataSource-p" --><!-- doxytag: inherits="NIPagingScrollViewDataSource-p" --><hr/><a name="details" id="details"></a><h2>Overview</h2>
<div class="textblock"><p>The photo album scroll data source. </p>
<p>This data source emphasizes speed and memory efficiency by requesting images only when they're needed and encouraging immediate responses from the data source implementation.</p>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="interface_n_i_photo_album_scroll_view.html" title="A paged scroll view that shows a collection of photos.">NIPhotoAlbumScrollView</a> </dd></dl>

<p>Definition at line <a class="el" href="_n_i_photo_album_scroll_view_data_source_8h_source.html#l00035">35</a> of file <a class="el" href="_n_i_photo_album_scroll_view_data_source_8h_source.html">NIPhotoAlbumScrollViewDataSource.h</a>.</p>
</div><div class="dynheader">
Inheritance diagram for &lt;NIPhotoAlbumScrollViewDataSource&gt;:</div>
<div class="dyncontent">
 <div class="center">
  <img src="protocol_n_i_photo_album_scroll_view_data_source-p.png" usemap="#&lt;NIPhotoAlbumScrollViewDataSource&gt;_map" alt=""/>
  <map id="&lt;NIPhotoAlbumScrollViewDataSource&gt;_map" name="&lt;NIPhotoAlbumScrollViewDataSource&gt;_map">
<area href="protocol_n_i_paging_scroll_view_data_source-p.html" title="The data source for NIPagingScrollView." alt="&lt;NIPagingScrollViewDataSource&gt;" shape="rect" coords="0,0,233,24"/>
</map>
 </div></div>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Methods</h2></td></tr>
<tr><td colspan="2"><div class="groupHeader">[NIPhotoAlbumScrollViewDataSource] Fetching Required Album Information</div></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">(UIImage *)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="protocol_n_i_photo_album_scroll_view_data_source-p.html#a580b6c3527b44349a13112c6460b68d5">photoAlbumScrollView:photoAtIndex:photoSize:isLoading:originalPhotoDimensions:</a></td></tr>
<tr><td colspan="2"><div class="groupHeader">[NIPhotoAlbumScrollViewDataSource] Optimizing Data Retrieval</div></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">(void)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="protocol_n_i_photo_album_scroll_view_data_source-p.html#a2bbbf9642de6e944f830365d5f5bc626">photoAlbumScrollView:stopLoadingPhotoAtIndex:</a></td></tr>
<tr><td colspan="2"><div class="groupHeader">[NIPagingScrollViewDataSource] Fetching Required Album Information</div></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">(NSInteger)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="protocol_n_i_paging_scroll_view_data_source-p.html#a31cd4575586b22f5655074c657677144">numberOfPagesInPagingScrollView:</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">(UIView<br class="typebreak"/>
&lt; <a class="el" href="protocol_n_i_paging_scroll_view_page-p.html">NIPagingScrollViewPage</a> &gt; *)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="protocol_n_i_paging_scroll_view_data_source-p.html#ad5a1e6aad37cccce2bead0583a34c3b7">pagingScrollView:pageViewForIndex:</a></td></tr>
</table>
<hr/><h2>Method Documentation</h2>
<a class="anchor" id="a580b6c3527b44349a13112c6460b68d5"></a><!-- doxytag: member="NIPhotoAlbumScrollViewDataSource&#45;p::photoAlbumScrollView:photoAtIndex:photoSize:isLoading:originalPhotoDimensions:" ref="a580b6c3527b44349a13112c6460b68d5" args="(NIPhotoAlbumScrollView *photoAlbumScrollView,[photoAtIndex] NSInteger photoIndex,[photoSize] NIPhotoScrollViewPhotoSize *photoSize,[isLoading] BOOL *isLoading,[originalPhotoDimensions] CGSize *originalPhotoDimensions)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (UIImage *) photoAlbumScrollView: </td>
          <td></td>
          <td class="paramtype">(<a class="el" href="interface_n_i_photo_album_scroll_view.html">NIPhotoAlbumScrollView</a> *)&#160;</td>
          <td class="paramname"><em>photoAlbumScrollView</em></td>
        </tr>
        <tr>
          <td class="paramkey">photoAtIndex:</td>
          <td></td>
          <td class="paramtype">(NSInteger)&#160;</td>
          <td class="paramname"><em>photoIndex</em></td>
        </tr>
        <tr>
          <td class="paramkey">photoSize:</td>
          <td></td>
          <td class="paramtype">(NIPhotoScrollViewPhotoSize *)&#160;</td>
          <td class="paramname"><em>photoSize</em></td>
        </tr>
        <tr>
          <td class="paramkey">isLoading:</td>
          <td></td>
          <td class="paramtype">(BOOL *)&#160;</td>
          <td class="paramname"><em>isLoading</em></td>
        </tr>
        <tr>
          <td class="paramkey">originalPhotoDimensions:</td>
          <td></td>
          <td class="paramtype">(CGSize *)&#160;</td>
          <td class="paramname"><em>originalPhotoDimensions</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Fetches the highest-quality image available for the photo at the given index. </p>
<p>Your goal should be to make this implementation return as fast as possible. Avoid hitting the disk or blocking on a network request. Aim to load images asynchronously.</p>
<p>If you already have the highest-quality image in memory (like in an <a class="el" href="interface_n_i_image_memory_cache.html" title="An in-memory cache for storing images with caps on the total number of pixels.">NIImageMemoryCache</a>), then you can simply return the image and set photoSize to be NIPhotoScrollViewPhotoSizeOriginal.</p>
<p>If the highest-quality image is not available when this method is called then you should spin off an asynchronous operation to load the image and set isLoading to YES.</p>
<p>If you have a thumbnail in memory but not the full-size image yet, then you should return the thumbnail, set isLoading to YES, and set photoSize to NIPhotoScrollViewPhotoSizeThumbnail.</p>
<p>Once the high-quality image finishes loading, call didLoadPhoto:atIndex:photoSize: with the image.</p>
<p>This method will be called to prefetch the next and previous photos in the scroll view. The currently displayed photo will always be requested first.</p>
<dl class="attention"><dt><b>Attention:</b></dt><dd>The photo scroll view does not hold onto the UIImages for very long at all. It is up to the controller to decide on an adequate caching policy to ensure that images are kept in memory through the life of the photo album. In your implementation of the data source you should prioritize thumbnails being kept in memory over full-size images. When a memory warning is received, the original photos should be relinquished from memory first. </dd></dl>

</div>
</div>
<a class="anchor" id="a2bbbf9642de6e944f830365d5f5bc626"></a><!-- doxytag: member="NIPhotoAlbumScrollViewDataSource&#45;p::photoAlbumScrollView:stopLoadingPhotoAtIndex:" ref="a2bbbf9642de6e944f830365d5f5bc626" args="(NIPhotoAlbumScrollView *photoAlbumScrollView,[stopLoadingPhotoAtIndex] NSInteger photoIndex)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (void) photoAlbumScrollView: </td>
          <td></td>
          <td class="paramtype">(<a class="el" href="interface_n_i_photo_album_scroll_view.html">NIPhotoAlbumScrollView</a> *)&#160;</td>
          <td class="paramname"><em>photoAlbumScrollView</em></td>
        </tr>
        <tr>
          <td class="paramkey">stopLoadingPhotoAtIndex:</td>
          <td></td>
          <td class="paramtype">(NSInteger)&#160;</td>
          <td class="paramname"><em>photoIndex</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Called when you should cancel any asynchronous loading requests for the given photo. </p>
<p>When a photo is not immediately visible this method is called to allow the data source to minimize the number of active asynchronous operations in place.</p>
<p>This method is optional, though recommended because it focuses the device's processing power on the most immediately accessible photos. </p>

</div>
</div>
<a class="anchor" id="a31cd4575586b22f5655074c657677144"></a><!-- doxytag: member="NIPhotoAlbumScrollViewDataSource&#45;p::numberOfPagesInPagingScrollView:" ref="a31cd4575586b22f5655074c657677144" args="(NIPagingScrollView *pagingScrollView)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (NSInteger) numberOfPagesInPagingScrollView: </td>
          <td></td>
          <td class="paramtype">(<a class="el" href="interface_n_i_paging_scroll_view.html">NIPagingScrollView</a> *)&#160;</td>
          <td class="paramname"><em>pagingScrollView</em></td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Fetches the total number of pages in the scroll view. </p>
<p>The value returned in this method will be cached by the scroll view until reloadData is called again. </p>

</div>
</div>
<a class="anchor" id="ad5a1e6aad37cccce2bead0583a34c3b7"></a><!-- doxytag: member="NIPhotoAlbumScrollViewDataSource&#45;p::pagingScrollView:pageViewForIndex:" ref="ad5a1e6aad37cccce2bead0583a34c3b7" args="(NIPagingScrollView *pagingScrollView,[pageViewForIndex] NSInteger pageIndex)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (UIView&lt;<a class="el" href="protocol_n_i_paging_scroll_view_page-p.html">NIPagingScrollViewPage</a>&gt; *) pagingScrollView: </td>
          <td></td>
          <td class="paramtype">(<a class="el" href="interface_n_i_paging_scroll_view.html">NIPagingScrollView</a> *)&#160;</td>
          <td class="paramname"><em>pagingScrollView</em></td>
        </tr>
        <tr>
          <td class="paramkey">pageViewForIndex:</td>
          <td></td>
          <td class="paramtype">(NSInteger)&#160;</td>
          <td class="paramname"><em>pageIndex</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Fetches a page that will be displayed at the given page index. </p>
<p>You should always try to reuse pages by calling dequeueReusablePageWithIdentifier: on the paging scroll view before allocating a new page. </p>

</div>
</div>
<div id="disqus_thread"></div></div>
</div>
  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="protocol_n_i_photo_album_scroll_view_data_source-p.html">NIPhotoAlbumScrollViewDataSource</a>      </li>
</div><!-- .fixedwidth -->

<script type="text/javascript">
    /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
    var disqus_shortname = 'nimbusdocumentation'; // required: replace example with your forum shortname

    // The following are highly recommended additional parameters. Remove the slashes in front to use.
    // var disqus_identifier = 'unique_dynamic_id_1234';
    // var disqus_url = 'http://example.com/permalink-to-page.html';

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>


    <span class="footer">Generated for Nimbus by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.4-20110629 </span>
   </ul>
 </div>


</div> <!-- page -->
</body>
</html>
