<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>Nimbus: Model Tools</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="stylesheet.css" rel="stylesheet" type="text/css" />


<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-24278774-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>
</head>
<body>
<div id="page">
<div style="position:relative">
<div id="top"><!-- do not remove this div! -->

<div id="titlearea">
<a style="float: right;margin-right:20px;margin-top:20px" href='http://www.pledgie.com/campaigns/15519'><img alt='Click here to support Nimbus development and make a donation at www.pledgie.com !' src='http://www.pledgie.com/campaigns/15519.png?skin_name=chrome' border='0' /></a>
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">Nimbus
   &#160;<span id="projectnumber">0.9.3 - <a href="http://github.com/jverkoey/nimbus">Nimbus is proudly hosted on Github</a></span>
   </div>
   <div id="projectbrief">An iOS framework whose growth is bounded by O(documentation).</div>
  </td>
  
  
  
   
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.4-20110629 -->
</div>
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
  initNavTree('group___model_tools.html','');
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a>  </div>
  <div class="headertitle">
<div class="title">Model Tools</div>  </div>
<div class="ingroups"><a class="el" href="group___nimbus_models.html">Nimbus Models</a></div></div>
<div class="contents">
<hr/><a name="details" id="details"></a><h2>Overview</h2>
<p>Model tools are objects that abstract common functionality used in view controllers. </p>
<h1>Radio Groups</h1>
<p>One commonly-required feature for table views is radio button functionality. This is useful when you need the user to make a choice from a set of options. Implementing this is trivial with the <a class="el" href="interface_nimbus.html" title="The Nimbus state interface.">Nimbus</a> <a class="el" href="interface_n_i_radio_group.html" title="A general-purpose radio group.">NIRadioGroup</a> object.</p>
<p>The radio group object allows you to map a set of table objects to a group of identifiers and then support radio button interactions. You can find a working example of this in the ModelCatalog sample application.</p>
<p>Provided below is a quick overview of implementing the iOS Settings app's notifications page.</p>
<div class="fragment"><pre class="fragment"><span class="comment">// We first define the enumeration of identifiers that we will use to map the table objects</span>
<span class="comment">// to unique identifiers.</span>
<span class="keyword">typedef</span> <span class="keyword">enum</span> {
  AppSortManual,
  AppSortByTime,
} AppSort;

<span class="comment">// You will create and retain a radio group object for the lifecycle of your controller.</span>
<span class="keyword">@property</span> (nonatomic, readwrite, retain) <a class="code" href="interface_n_i_radio_group.html" title="A general-purpose radio group.">NIRadioGroup</a>* radioGroup;

- (void)refreshModel {
  <span class="keywordtype">id</span> manual = [<a class="code" href="interface_n_i_title_cell_object.html" title="An object for displaying a single-line title in a table view cell.">NITitleCellObject</a> cellWithTitle:<span class="stringliteral">@&quot;Manually&quot;</span>];
  <span class="keywordtype">id</span> byTime = [<a class="code" href="interface_n_i_title_cell_object.html" title="An object for displaying a single-line title in a table view cell.">NITitleCellObject</a> cellWithTitle:<span class="stringliteral">@&quot;By Time&quot;</span>];

  NSArray* contents =
  [NSArray arrayWithObjects:
   <span class="stringliteral">@&quot;Sort Apps:&quot;</span>,
   manual, byTime,
   nil];

  <span class="keyword">self</span>.model = [[<a class="code" href="class_n_i_table_view_model.html" title="A non-mutable table view model that complies to the UITableViewDataSource protocol.">NITableViewModel</a> alloc] initWithSectionedArray:contents
                                                       delegate:(id)[<a class="code" href="interface_n_i_cell_factory.html" title="A simple factory for creating table view cells from objects.">NICellFactory</a> <span class="keyword">class</span>]];
  <span class="keyword">self</span>.tableView.dataSource = <span class="keyword">self</span>.model;

  <span class="keyword">self</span>.radioGroup = [[[<a class="code" href="interface_n_i_radio_group.html" title="A general-purpose radio group.">NIRadioGroup</a> alloc] init] autorelease];

  <span class="comment">// Selection notifications are sent through the delegate.</span>
  <span class="keyword">self</span>.radioGroup.delegate = <span class="keyword">self</span>;

  <span class="comment">// Map the objects to their corresponding identifiers.</span>
  [<span class="keyword">self</span>.radioGroup mapObject:manual toIdentifier:AppSortManual];
  [<span class="keyword">self</span>.radioGroup mapObject:byTime toIdentifier:AppSortByTime];

  <span class="comment">// Set the initial selection.</span>
  <span class="keyword">self</span>.radioGroup.selectedIdentifier = AppSortManual;

  <span class="comment">// Insert the radio group into the delegate call chain.</span>
  <span class="keyword">self</span>.tableView.delegate = [<span class="keyword">self</span>.radioGroup forwardingTo:<span class="keyword">self</span>.tableView.delegate];

  [<span class="keyword">self</span>.tableView reloadData];
}

- (void)radioGroup:(<a class="code" href="interface_n_i_radio_group.html" title="A general-purpose radio group.">NIRadioGroup</a> *)radioGroup didSelectIdentifier:(NSInteger)identifier {
  NSLog(<span class="stringliteral">@&quot;Radio group selection changed: %d&quot;</span>, identifier);
}
</pre></div><h1>Table View Actions</h1>
<p>Separating actions from presentation is an important aspect in simplifying table view cell design. It can be tempting to add delegate and selector properties to cells, but this ends up forcing a lot of logic to be written on the cell level so that the cells accurately represent their actionable state.</p>
<p><a class="el" href="interface_nimbus.html" title="The Nimbus state interface.">Nimbus</a> provides a solution with <a class="el" href="interface_n_i_table_view_actions.html" title="An object that can be used to easily implement actions in table view controllers.">NITableViewActions</a>. <a class="el" href="interface_n_i_table_view_actions.html" title="An object that can be used to easily implement actions in table view controllers.">NITableViewActions</a> manages the cell &lt;=&gt; action mapping by inserting itself in the delegate call chain invocation forwarding. When cells are displayed, their accessoryType and selectionStyle are updated to reflect the actions that have been attached to them. When cells are tapped, the correct set of actions are performed.</p>
<p>Below is an example of implementing the "General" page of the Settings app.</p>
<div class="fragment"><pre class="fragment"><span class="comment">// You will create and retain an actions object for the lifecycle of your controller.</span>
<span class="keyword">@property</span> (nonatomic, readwrite, retain) <a class="code" href="interface_n_i_table_view_actions.html" title="An object that can be used to easily implement actions in table view controllers.">NITableViewActions</a>* actions;

- (void)refreshModel {
  <span class="keywordtype">id</span> about = [<a class="code" href="interface_n_i_title_cell_object.html" title="An object for displaying a single-line title in a table view cell.">NITitleCellObject</a> cellWithTitle:<span class="stringliteral">@&quot;About&quot;</span>];
  <span class="keywordtype">id</span> softwareUpdate = [<a class="code" href="interface_n_i_title_cell_object.html" title="An object for displaying a single-line title in a table view cell.">NITitleCellObject</a> cellWithTitle:<span class="stringliteral">@&quot;Software Update&quot;</span>];

  NSArray* contents =
  [NSArray arrayWithObjects:
   <span class="stringliteral">@&quot;&quot;</span>,
   about, softwareUpdate,
   nil];

  <span class="keyword">self</span>.model = [[<a class="code" href="class_n_i_table_view_model.html" title="A non-mutable table view model that complies to the UITableViewDataSource protocol.">NITableViewModel</a> alloc] initWithSectionedArray:contents
                                                       delegate:(id)[<a class="code" href="interface_n_i_cell_factory.html" title="A simple factory for creating table view cells from objects.">NICellFactory</a> <span class="keyword">class</span>]];
  <span class="keyword">self</span>.tableView.dataSource = <span class="keyword">self</span>.model;

  <span class="comment">// The controller we provide here will be passed to the action blocks.</span>
  <span class="keyword">self</span>.actions = [[[<a class="code" href="interface_n_i_table_view_actions.html" title="An object that can be used to easily implement actions in table view controllers.">NITableViewActions</a> alloc] initWithController:<span class="keyword">self</span>] autorelease];
 
  [<span class="keyword">self</span>.actions attachNavigationAction:NIPushControllerAction([AboutViewController <span class="keyword">class</span>])
                              toObject:about];
  [self.actions attachNavigationAction:NIPushControllerAction([SoftwareUpdateViewController class])
                              toObject:softwareUpdate];

  <span class="comment">// Insert the actions into the delegate call chain.</span>
  self.tableView.delegate = [self.actions forwardingTo:self.tableView.delegate];

  [self.tableView reloadData];
}
</pre></div> <table class="memberdecls">
<tr><td colspan="2"><h2><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_n_i_radio_group.html">NIRadioGroup</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">A general-purpose radio group.  <a href="interface_n_i_radio_group.html#details">More...</a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">protocol &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="protocol_n_i_radio_group_delegate-p.html">&lt;NIRadioGroupDelegate&gt;</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">The delegate for <a class="el" href="interface_n_i_radio_group.html" title="A general-purpose radio group.">NIRadioGroup</a>.  <a href="protocol_n_i_radio_group_delegate-p.html#details">More...</a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_n_i_radio_group_controller.html">NIRadioGroupController</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">A controller that displays the set of options in a radio group.  <a href="interface_n_i_radio_group_controller.html#details">More...</a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_n_i_table_view_actions.html">NITableViewActions</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">An object that can be used to easily implement actions in table view controllers.  <a href="interface_n_i_table_view_actions.html#details">More...</a><br/></td></tr>
</table>
<div id="disqus_thread"></div></div>
</div>
  <div id="nav-path" class="navpath">
    <ul>
</div><!-- .fixedwidth -->

<script type="text/javascript">
    /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
    var disqus_shortname = 'nimbusdocumentation'; // required: replace example with your forum shortname

    // The following are highly recommended additional parameters. Remove the slashes in front to use.
    // var disqus_identifier = 'unique_dynamic_id_1234';
    // var disqus_url = 'http://example.com/permalink-to-page.html';

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>


    <span class="footer">Generated for Nimbus by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.4-20110629 </span>
   </ul>
 </div>


</div> <!-- page -->
</body>
</html>
