<!-- HTML header for doxygen 1.8.6-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6-nimbuskit"/>
<title>NimbusKit: Model Tools</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="appledocs.css" rel="stylesheet" type="text/css"/>
<link href="nimbuskit.css" rel="stylesheet" type="text/css" />
<script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-24278774-1']);
  _gaq.push(['_setDomainName', 'nimbuskit.info']);
  _gaq.push(['_trackPageview']);
  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<a href="index.html"><img style="float:left" src="nimbus128.png" width="80" height="80" /></a>
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">NimbusKit
   &#160;<span id="projectnumber">1.2.1 - <a href="http://github.com/jverkoey/nimbus">Fork Nimbus on Github</a> - <a href="http://wiki.nimbuskit.info/">Visit the Nimbus Wiki</a></span>
   </div>
   <div id="projectbrief">The iOS framework that grows only as fast as its documentation</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6-nimbuskit -->
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('ModelTools.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a>  </div>
  <div class="headertitle">
<div class="title">Model Tools<div class="ingroups"><a class="el" href="NimbusModels.html">Nimbus Models</a></div></div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="NIRadioGroup.html">NIRadioGroup</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">A general-purpose radio group.  <a href="NIRadioGroup.html#details">More...</a><br/></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">protocol &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="NIRadioGroupDelegate-Protocol.html">&lt;NIRadioGroupDelegate&gt;</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">The delegate for <a class="el" href="NIRadioGroup.html" title="A general-purpose radio group. ">NIRadioGroup</a>.  <a href="NIRadioGroupDelegate-Protocol.html#details">More...</a><br/></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="NIRadioGroupController.html">NIRadioGroupController</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">A controller that displays the set of options in a radio group.  <a href="NIRadioGroupController.html#details">More...</a><br/></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="NITableViewActions.html">NITableViewActions</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">The <a class="el" href="NITableViewActions.html" title="The NITableViewActions class provides an interface for attaching actions to objects in a NITableViewM...">NITableViewActions</a> class provides an interface for attaching actions to objects in a <a class="el" href="NITableViewModel.html" title="A non-mutable table view model that complies to the UITableViewDataSource protocol. ">NITableViewModel</a>.  <a href="NITableViewActions.html#details">More...</a><br/></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Overview</h2>
<p>Model tools are objects that abstract common functionality used in view controllers. </p>
<h2>Radio Groups</h2>
<p>One commonly-required feature for table views is radio button functionality. This is useful when you need the user to make a choice from a set of options. Implementing this is trivial with the Nimbus <a class="el" href="NIRadioGroup.html" title="A general-purpose radio group. ">NIRadioGroup</a> object.</p>
<p>The radio group object allows you to map a set of table objects to a group of identifiers and then support radio button interactions. You can find a working example of this in the ModelCatalog sample application.</p>
<p>Provided below is a quick overview of implementing the iOS Settings app's notifications page.</p>
<div class="fragment"><div class="line"><span class="comment">// We first define the enumeration of identifiers that we will use to map the table objects</span></div>
<div class="line"><span class="comment">// to unique identifiers.</span></div>
<div class="line"><span class="keyword">typedef</span> <span class="keyword">enum</span> {</div>
<div class="line">  AppSortManual,</div>
<div class="line">  AppSortByTime,</div>
<div class="line">} AppSort;</div>
<div class="line"></div>
<div class="line"><span class="comment">// You will create and retain a radio group object for the lifecycle of your controller.</span></div>
<div class="line"><span class="keyword">@property</span> (nonatomic, retain) <a class="code" href="NIRadioGroup.html">NIRadioGroup</a>* radioGroup;</div>
<div class="line"></div>
<div class="line">- (void)refreshModel {</div>
<div class="line">  <span class="keywordtype">id</span> manual = [<a class="code" href="NITitleCellObject.html">NITitleCellObject</a> cellWithTitle:<span class="stringliteral">@&quot;Manually&quot;</span>];</div>
<div class="line">  <span class="keywordtype">id</span> byTime = [<a class="code" href="NITitleCellObject.html">NITitleCellObject</a> cellWithTitle:<span class="stringliteral">@&quot;By Time&quot;</span>];</div>
<div class="line"></div>
<div class="line">  NSArray* contents =</div>
<div class="line">  [NSArray arrayWithObjects:</div>
<div class="line">   <span class="stringliteral">@&quot;Sort Apps:&quot;</span>,</div>
<div class="line">   manual, byTime,</div>
<div class="line">   nil];</div>
<div class="line"></div>
<div class="line">  <span class="keyword">self</span>.model = [[<a class="code" href="NITableViewModel.html">NITableViewModel</a> alloc] initWithSectionedArray:contents</div>
<div class="line">                                                       delegate:(id)[<a class="code" href="NICellFactory.html">NICellFactory</a> <span class="keyword">class</span>]];</div>
<div class="line">  <span class="keyword">self</span>.tableView.dataSource = <span class="keyword">self</span>.model;</div>
<div class="line"></div>
<div class="line">  <span class="keyword">self</span>.radioGroup = [[[<a class="code" href="NIRadioGroup.html">NIRadioGroup</a> alloc] init] autorelease];</div>
<div class="line"></div>
<div class="line">  <span class="comment">// Selection notifications are sent through the delegate.</span></div>
<div class="line">  <span class="keyword">self</span>.radioGroup.delegate = <span class="keyword">self</span>;</div>
<div class="line"></div>
<div class="line">  <span class="comment">// Map the objects to their corresponding identifiers.</span></div>
<div class="line">  [<span class="keyword">self</span>.radioGroup mapObject:manual toIdentifier:AppSortManual];</div>
<div class="line">  [<span class="keyword">self</span>.radioGroup mapObject:byTime toIdentifier:AppSortByTime];</div>
<div class="line"></div>
<div class="line">  <span class="comment">// Set the initial selection.</span></div>
<div class="line">  <span class="keyword">self</span>.radioGroup.selectedIdentifier = AppSortManual;</div>
<div class="line"></div>
<div class="line">  <span class="comment">// Insert the radio group into the delegate call chain.</span></div>
<div class="line">  <span class="keyword">self</span>.tableView.delegate = [<span class="keyword">self</span>.radioGroup forwardingTo:<span class="keyword">self</span>.tableView.delegate];</div>
<div class="line"></div>
<div class="line">  [<span class="keyword">self</span>.tableView reloadData];</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line">- (void)radioGroup:(<a class="code" href="NIRadioGroup.html">NIRadioGroup</a> *)radioGroup didSelectIdentifier:(NSInteger)identifier {</div>
<div class="line">  NSLog(<span class="stringliteral">@&quot;Radio group selection changed: %d&quot;</span>, identifier);</div>
<div class="line">}</div>
</div><!-- fragment --><h2>Table View Actions</h2>
<p>Separating actions from presentation is an important aspect in simplifying table view cell design. It can be tempting to add delegate and selector properties to cells, but this ends up forcing a lot of logic to be written on the cell level so that the cells accurately represent their actionable state.</p>
<p>Nimbus provides a solution with <a class="el" href="NITableViewActions.html" title="The NITableViewActions class provides an interface for attaching actions to objects in a NITableViewM...">NITableViewActions</a>. <a class="el" href="NITableViewActions.html" title="The NITableViewActions class provides an interface for attaching actions to objects in a NITableViewM...">NITableViewActions</a> manages the cell &lt;=&gt; action mapping by inserting itself in the delegate call chain invocation forwarding. When cells are displayed, their accessoryType and selectionStyle are updated to reflect the actions that have been attached to them. When cells are tapped, the correct set of actions are performed.</p>
<p>Below is an example of implementing the "General" page of the Settings app.</p>
<div class="fragment"><div class="line"><span class="comment">// You will create and retain an actions object for the lifecycle of your controller.</span></div>
<div class="line"><span class="keyword">@property</span> (nonatomic, retain) <a class="code" href="NITableViewActions.html">NITableViewActions</a>* actions;</div>
<div class="line"></div>
<div class="line">- (void)refreshModel {</div>
<div class="line">  <span class="keywordtype">id</span> about = [<a class="code" href="NITitleCellObject.html">NITitleCellObject</a> cellWithTitle:<span class="stringliteral">@&quot;About&quot;</span>];</div>
<div class="line">  <span class="keywordtype">id</span> softwareUpdate = [<a class="code" href="NITitleCellObject.html">NITitleCellObject</a> cellWithTitle:<span class="stringliteral">@&quot;Software Update&quot;</span>];</div>
<div class="line"></div>
<div class="line">  NSArray* contents =</div>
<div class="line">  [NSArray arrayWithObjects:</div>
<div class="line">   <span class="stringliteral">@&quot;&quot;</span>,</div>
<div class="line">   about, softwareUpdate,</div>
<div class="line">   nil];</div>
<div class="line"></div>
<div class="line">  <span class="keyword">self</span>.model = [[<a class="code" href="NITableViewModel.html">NITableViewModel</a> alloc] initWithSectionedArray:contents</div>
<div class="line">                                                       delegate:(id)[<a class="code" href="NICellFactory.html">NICellFactory</a> <span class="keyword">class</span>]];</div>
<div class="line">  <span class="keyword">self</span>.tableView.dataSource = <span class="keyword">self</span>.model;</div>
<div class="line"></div>
<div class="line">  <span class="comment">// The controller we provide here will be passed to the action blocks.</span></div>
<div class="line">  <span class="keyword">self</span>.actions = [[[<a class="code" href="NITableViewActions.html">NITableViewActions</a> alloc] initWithController:<span class="keyword">self</span>] autorelease];</div>
<div class="line"> </div>
<div class="line">  [<span class="keyword">self</span>.actions attachNavigationAction:<a class="code" href="Actions.html#gNIPushControllerAction">NIPushControllerAction</a>([AboutViewController <span class="keyword">class</span>])</div>
<div class="line">                              toObject:about];</div>
<div class="line">  [self.actions attachNavigationAction:<a class="code" href="Actions.html#gNIPushControllerAction">NIPushControllerAction</a>([SoftwareUpdateViewController class])</div>
<div class="line">                              toObject:softwareUpdate];</div>
<div class="line"></div>
<div class="line">  <span class="comment">// Insert the actions into the delegate call chain.</span></div>
<div class="line">  self.tableView.delegate = [self.actions forwardingTo:self.tableView.delegate];</div>
<div class="line"></div>
<div class="line">  [self.tableView reloadData];</div>
<div class="line">}</div>
</div><!-- fragment --> </div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.6-->
<!-- start footer part -->
<script type="text/javascript" src="widget.js"></script>
</body>
</html>
