<!-- HTML header for doxygen 1.8.6-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6-nimbuskit"/>
<title>NimbusKit: Nimbus Network Image</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="appledocs.css" rel="stylesheet" type="text/css"/>
<link href="nimbuskit.css" rel="stylesheet" type="text/css" />
<script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-24278774-1']);
  _gaq.push(['_setDomainName', 'nimbuskit.info']);
  _gaq.push(['_trackPageview']);
  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<a href="index.html"><img style="float:left" src="nimbus128.png" width="80" height="80" /></a>
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">NimbusKit
   &#160;<span id="projectnumber">1.2.1 - <a href="http://github.com/jverkoey/nimbus">Fork Nimbus on Github</a> - <a href="http://wiki.nimbuskit.info/">Visit the Nimbus Wiki</a></span>
   </div>
   <div id="projectbrief">The iOS framework that grows only as fast as its documentation</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6-nimbuskit -->
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('NimbusNetworkImage.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#enum-members">Enumerations</a>  </div>
  <div class="headertitle">
<div class="title">Nimbus Network Image</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="NINetworkImageView.html">NINetworkImageView</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">A network-enabled image view that consumes minimal amounts of memory.  <a href="NINetworkImageView.html#details">More...</a><br/></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">protocol &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="NINetworkImageViewDelegate-Protocol.html">&lt;NINetworkImageViewDelegate&gt;</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">The image view delegate used to inform of state changes.  <a href="NINetworkImageViewDelegate-Protocol.html#details">More...</a><br/></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:gNINetworkImageViewScaleOptions"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="NimbusNetworkImage.html#gNINetworkImageViewScaleOptions">NINetworkImageViewScaleOptions</a> </td></tr>
<tr class="memdesc:gNINetworkImageViewScaleOptions"><td class="mdescLeft">&#160;</td><td class="mdescRight">Flags for modifying the way cropping is handled when scaling images to fit or fill.  <a href="NimbusNetworkImage.html#gNINetworkImageViewScaleOptions">More...</a><br/></td></tr>
<tr class="separator:gNINetworkImageViewScaleOptions"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Overview</h2>
<div id="github" feature="networkimage"></div> <p>Image views that load images from the network and efficiently store the result in memory and on disk.</p>
<div class="image">
<img src="NINetworkImageViewExample1.png" alt="NINetworkImageViewExample1.png"/>
<div class="caption">
The various available content modes.</div></div>
 <h2>Minimum Requirements</h2>
<p>Required frameworks:</p>
<ul>
<li>UIKit.framework</li>
<li>CoreText.framework</li>
<li>AFNetworking <a href="https://github.com/AFNetworking/AFNetworking">https://github.com/AFNetworking/AFNetworking</a></li>
</ul>
<p>Minimum Operating System: <b>iOS 4.0</b></p>
<p>Source located in <code>src/networkimage/src</code></p>
<p>Presented below is an architectural overview of the Nimbus network image library.</p>
<div class="image">
<img src="NINetworkImageDesign1.png" alt="NINetworkImageDesign1.png"/>
<div class="caption">
NINetworkImage Design</div></div>
<ol type="1">
<li>To begin using a network image view, simply create an instance of an <a class="el" href="NINetworkImageView.html" title="A network-enabled image view that consumes minimal amounts of memory. ">NINetworkImageView</a> and use it as you would a UIImageView. The initial image you assign to the view will be used as the "loading" image and must be a locally accessible image. Note that this image will not be cropped and resized in any way, so you should take care to crop and resize it beforehand as necessary.</li>
<li>Once you have created your network image view and assigned the initial image, the next step is to load the network image. Call any of the <a class="el" href="NINetworkImageView.html#setPathToNetworkImage:">setPathToNetworkImage</a> methods to fire off a network request for the image on a separate thread.</li>
<li>A new NINetworkImageRequest thread will spin off and initiate the request to the network.</li>
<li>Once the image has been retrieved from the net, the thread crops and resizes the image depending on the presentation configurations specified by the image view. In this example, <a class="el" href="NINetworkImageView.html#sizeForDisplay">sizeForDisplay</a> and <a class="el" href="">cropImageForDisplay</a> are enabled. In this step the image is resized to fit the aspect ratio of the display size.</li>
<li>We then crop the image to fit the display frame.</li>
<li>Upon completion of all image modifications, we complete the request and return only the modified image to the image view. This helps to reduce memory usage.</li>
<li>The resized and cropped image is then stored in the in-memory image cache for quick access in the future.</li>
<li>At last, the image view sets the new image and displays it. </li>
</ol>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a class="anchor" id="gNINetworkImageViewScaleOptions"></a>
<div class="memitem">
      <h3 class="memname">NINetworkImageViewScaleOptions</h3>
<div class="memdoc">

<p class="abstract">Flags for modifying the way cropping is handled when scaling images to fit or fill. </p>
<div class="declaration">
NINetworkImageViewScaleOptions;</td></tr>
</div>
<h5>Discussion</h5>
<p>By default the network image view will behave in the following way for these content modes:</p>
<ul>
<li><b>UIViewContentModeScaleAspectFit</b>: Leaves unfilled space as transparent.</li>
<li><b>UIViewContentModeScaleAspectFill</b>: Crops any excess pixels.</li>
</ul>
<p>The resulting image size will exactly match the display size.</p>
<p>You can modify this behavior using the following two flags which should be set using binary operators.</p>
 
<pre>
  NINetworkImageViewScaleToFitCropsRemainder
  The final image size will be shrunk to fit the image such that there is no transparency.

  NINetworkImageViewScaleToFillLeavesRemainder
  The final image size will be grown to include the excess pixels.
</pre>
<h1>Examples</h1>
<p>The following examples use this image:</p>
<div class="image">
<img src="clouds500x375.jpeg" alt="clouds500x375.jpeg"/>
<div class="caption">
Dimensions: 500x375</div></div>
<h2>Default settings with UIViewContentModeScaleAspectFit</h2>
<h3>Result image (display size 100x100)</h3>
<div class="image">
<img src="clouds100x100-fit.png" alt="clouds100x100-fit.png"/>
<div class="caption">
Fit image with default settings leaves transparent pixels. Size: 100x100.</div></div>
 <h3>Example code</h3>
<div class="fragment"><div class="line">imageView.scaleOptions = NINetworkImageViewScaleToFitLeavesExcessAndScaleToFillCropsExcess;</div>
<div class="line"></div>
<div class="line">[imageView setPathToNetworkImage: <span class="stringliteral">@&quot;http://farm2.static.flickr.com/1165/644335254_4b8a712be5.jpg&quot;</span></div>
<div class="line">                  forDisplaySize: CGSizeMake(100, 100)</div>
<div class="line">                     contentMode: UIViewContentModeScaleAspectFit];</div>
<div class="line"></div>
<div class="line">     source image size: 500x375  [aspect ratio: 1.3333]</div>
<div class="line">          display size: 100x100  [aspect ratio: 1]</div>
<div class="line">     result image size: 100x100  [aspect ratio: 1] (transparency on the left and right edges)</div>
<div class="line">        image blt size: 100x75   [aspect ratio: 1.3333]</div>
</div><!-- fragment --><h2>Default settings with UIViewContentModeScaleAspectFill</h2>
<h3>Result image (display size 100x100)</h3>
<div class="image">
<img src="clouds100x100-fill.png" alt="clouds100x100-fill.png"/>
<div class="caption">
Fill image with default settings chops excess pixels. Size: 100x100.</div></div>
 <h3>Example code</h3>
<div class="fragment"><div class="line">[imageView setPathToNetworkImage: <span class="stringliteral">@&quot;http://farm2.static.flickr.com/1165/644335254_4b8a712be5.jpg&quot;</span></div>
<div class="line">                  forDisplaySize: CGSizeMake(100, 100)</div>
<div class="line">                     contentMode: UIViewContentModeScaleAspectFill];</div>
<div class="line"></div>
<div class="line">     source image size: 500x375  [aspect ratio: 1.3333]</div>
<div class="line">          display size: 100x100  [aspect ratio: 1]</div>
<div class="line">     result image size: 100x100  [aspect ratio: 1]</div>
<div class="line">        image blt size: 133x100  [aspect ratio: 1.3333]</div>
</div><!-- fragment --><h2>NINetworkImageViewScaleToFitCropsExcess with UIViewContentModeScaleAspectFit</h2>
<h3>Result image (display size 100x100)</h3>
<div class="image">
<img src="clouds100x100-fit-cropped.png" alt="clouds100x100-fit-cropped.png"/>
<div class="caption">
Fit image with NINetworkImageViewScaleToFitCropsExcess crops the transparency. Size: 100x75.</div></div>
 <h3>Example code</h3>
<div class="fragment"><div class="line"><span class="comment">// Turn on NINetworkImageViewScaleToFitCropsExcess</span></div>
<div class="line">imageView.scaleOptions |= NINetworkImageViewScaleToFitCropsExcess;</div>
<div class="line"></div>
<div class="line">[imageView setPathToNetworkImage: <span class="stringliteral">@&quot;http://farm2.static.flickr.com/1165/644335254_4b8a712be5.jpg&quot;</span></div>
<div class="line">                  forDisplaySize: CGSizeMake(100, 100)</div>
<div class="line">                     contentMode: UIViewContentModeScaleAspectFill];</div>
<div class="line"></div>
<div class="line">     source image size: 500x375  [aspect ratio: 1.3333]</div>
<div class="line">          display size: 100x100  [aspect ratio: 1]</div>
<div class="line">     result image size: 100x75   [aspect ratio: 1.3333]</div>
<div class="line">        image blt size: 100x75   [aspect ratio: 1.3333]</div>
</div><!-- fragment --><h2>NINetworkImageViewScaleToFillLeavesExcess with UIViewContentModeScaleAspectFill</h2>
<h3>Result image (display size 100x100)</h3>
<div class="image">
<img src="clouds100x100-fill-excess.png" alt="clouds100x100-fill-excess.png"/>
<div class="caption">
Fill image with NINetworkImageViewScaleToFillLeavesExcess leaves the excess. Size: 133x100.</div></div>
 <h3>Example code</h3>
<div class="fragment"><div class="line"><span class="comment">// Turn on NINetworkImageViewScaleToFillLeavesExcess</span></div>
<div class="line">imageView.scaleOptions |= NINetworkImageViewScaleToFillLeavesExcess;</div>
<div class="line"></div>
<div class="line">[imageView setPathToNetworkImage: <span class="stringliteral">@&quot;http://farm2.static.flickr.com/1165/644335254_4b8a712be5.jpg&quot;</span></div>
<div class="line">                  forDisplaySize: CGSizeMake(100, 100)</div>
<div class="line">                     contentMode: UIViewContentModeScaleAspectFill];</div>
<div class="line"></div>
<div class="line">     source image size: 500x375  [aspect ratio: 1.3333]</div>
<div class="line">          display size: 100x100  [aspect ratio: 1]</div>
<div class="line">     result image size: 133x100  [aspect ratio: 1.3333]</div>
<div class="line">        image blt size: 133x100  [aspect ratio: 1.3333]</div>
</div><!-- fragment --> 
</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.6-->
<!-- start footer part -->
<script type="text/javascript" src="widget.js"></script>
</body>
</html>
