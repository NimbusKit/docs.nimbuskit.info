<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>Nimbus: Nimbus Operations</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="stylesheet.css" rel="stylesheet" type="text/css" />


<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-24278774-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>
</head>
<body>
<div id="page">
<div style="position:relative">
<div id="top"><!-- do not remove this div! -->

<div id="titlearea">
<a style="float: right;margin-right:20px;margin-top:20px" href='http://www.pledgie.com/campaigns/15519'><img alt='Click here to support Nimbus development and make a donation at www.pledgie.com !' src='http://www.pledgie.com/campaigns/15519.png?skin_name=chrome' border='0' /></a>
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">Nimbus
   &#160;<span id="projectnumber">0.9.3 - <a href="http://github.com/jverkoey/nimbus">Nimbus is proudly hosted on Github</a></span>
   </div>
   <div id="projectbrief">An iOS framework whose growth is bounded by O(documentation).</div>
  </td>
  
  
  
   
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.4-20110629 -->
</div>
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
  initNavTree('group___nimbus_operations.html','');
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#groups">Modules</a>  </div>
  <div class="headertitle">
<div class="title">Nimbus Operations</div>  </div>
</div>
<div class="contents">
<hr/><a name="details" id="details"></a><h2>Overview</h2>
<p>Processing data is a potential bottleneck for any application that manipulates it. </p>
<p>Older iPhone and iPod touch models get the worst of this with their slower processors and smaller amounts of ram. It's important to pull data processing off of the main UI thread. <a class="el" href="interface_nimbus.html" title="The Nimbus state interface.">Nimbus</a> operations provide a consistent means of processing data in a defered way using the <a class="el" href="interface_n_i_operation.html" title="A base implementation of an NSOperation that supports traditional delegation and blocks.">NIOperation</a> class of objects.</p>
<h2>Suggestions for Picking a Processing Method</h2>
<h3>Use Blocks and <a class="el" href="protocol_n_i_operation_delegate-p.html" title="The delegate protocol for an NIOperation.">NIOperationDelegate</a> for One-Off Implementations</h3>
<p>Blocks are useful when writing inline code quickly, but after a certain point of complexity it may be cleaner to implement the delegate. If your block spans more than 10 lines of code or so, it might be worth considering moving the logic into the delegate method.</p>
<h3>Subclass Common Functionality</h3>
<p>If you find yourself repeating the same functionality across a variety of controllers then you should consider building a subclass. A good example is <a class="el" href="interface_n_i_network_j_s_o_n_request.html" title="A processor that uses JSONKit to turn the JSON response into objects.">NINetworkJSONRequest</a>, which subclasses <a class="el" href="interface_n_i_network_request_operation.html" title="An operation that makes a network request.">NINetworkRequestOperation</a> and turns the response data into Objective-C objects. <a class="el" href="interface_n_i_network_request_operation.html" title="An operation that makes a network request.">NINetworkRequestOperation</a> can be reused throughout an application as a result.</p>
<h2>Examples</h2>
<h3>Fetching the Name of a Node in the Facebook Graph</h3>
<div class="fragment"><pre class="fragment">  <span class="comment">// The graph API path for the Nimbus Facebook group.</span>
  <a class="code" href="class_n_s_string.html" title="For manipulating NSStrings.">NSString</a>* urlPath = <span class="stringliteral">@&quot;https://graph.facebook.com/186162441444201&quot;</span>;

  <span class="comment">// Create a JSONKit request that will turn the response data into Objective-C objects.</span>
  <span class="comment">// Define the request with __block so that it doesn&#39;t cause a retain cycle when we access</span>
  <span class="comment">// the request object from within the block.</span>
  __block <a class="code" href="interface_n_i_network_j_s_o_n_request.html" title="A processor that uses JSONKit to turn the JSON response into objects.">NINetworkJSONRequest</a>* request = [[[<a class="code" href="interface_n_i_network_j_s_o_n_request.html" title="A processor that uses JSONKit to turn the JSON response into objects.">NINetworkJSONRequest</a> alloc] initWithURL:
                                            [NSURL URLWithString:urlPath]] autorelease];

  <span class="comment">// Called on the operation&#39;s thread.</span>
  <span class="comment">// We can do computationally expensive operations here without blocking the UI in any way.</span>
  <span class="comment">// Note: You must be careful not to access any non-thread-safe objects from within this block.</span>
  request.<a class="code" href="interface_n_i_operation.html#a14bfd44503230b2e7c9e57ea83f16fcf" title="The operation is about to complete successfully.">willFinishBlock</a> = ^(<a class="code" href="interface_n_i_operation.html" title="A base implementation of an NSOperation that supports traditional delegation and blocks.">NIOperation</a>* operation) {

    <a class="code" href="class_n_s_string.html" title="For manipulating NSStrings.">NSString</a>* graphName = nil;

    <span class="comment">// By this point the JSON will have been turned into an object.</span>
    graphName = [request.processedObject objectForKey:<span class="stringliteral">@&quot;name&quot;</span>];

    <span class="comment">// The block expects us to return an id type.</span>
    <span class="keywordflow">return</span> (<span class="keywordtype">id</span>)graphName;
  };

  <span class="comment">// Avoid a retain cycle of self.</span>
  __block UIViewController* vc = <span class="keyword">self</span>;

  <span class="comment">// Called on the main UI thread. This method should be light-weight.</span>
  request.didFinishBlock = ^(<a class="code" href="interface_n_i_operation.html" title="A base implementation of an NSOperation that supports traditional delegation and blocks.">NIOperation</a>* operation) {
    <a class="code" href="class_n_s_string.html" title="For manipulating NSStrings.">NSString</a>* graphName = request.processedObject;
    <span class="comment">// Do what we will with the graph name now.</span>
    vc.title = graphName;
  };

  [operationQueue addOperation:request];
</pre></div> <table class="memberdecls">
<tr><td colspan="2"><h2><a name="groups"></a>
Modules</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___network-_operations.html">Network Operations</a></td></tr>
</table>
<div id="disqus_thread"></div></div>
</div>
  <div id="nav-path" class="navpath">
    <ul>
</div><!-- .fixedwidth -->

<script type="text/javascript">
    /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
    var disqus_shortname = 'nimbusdocumentation'; // required: replace example with your forum shortname

    // The following are highly recommended additional parameters. Remove the slashes in front to use.
    // var disqus_identifier = 'unique_dynamic_id_1234';
    // var disqus_url = 'http://example.com/permalink-to-page.html';

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>


    <span class="footer">Generated for Nimbus by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.4-20110629 </span>
   </ul>
 </div>


</div> <!-- page -->
</body>
</html>
