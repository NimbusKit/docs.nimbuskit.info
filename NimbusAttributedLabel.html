<!-- HTML header for doxygen 1.8.6-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6-nimbuskit"/>
<title>NimbusKit: Nimbus Attributed Label</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="appledocs.css" rel="stylesheet" type="text/css"/>
<link href="nimbuskit.css" rel="stylesheet" type="text/css" />
<script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-24278774-1']);
  _gaq.push(['_setDomainName', 'nimbuskit.info']);
  _gaq.push(['_trackPageview']);
  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<a href="index.html"><img style="float:left" src="nimbus128.png" width="80" height="80" /></a>
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">NimbusKit
   &#160;<span id="projectnumber">1.2.1 - <a href="http://github.com/jverkoey/nimbus">Fork Nimbus on Github</a> - <a href="http://wiki.nimbuskit.info/">Visit the Nimbus Wiki</a></span>
   </div>
   <div id="projectbrief">The iOS framework that grows only as fast as its documentation</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6-nimbuskit -->
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('NimbusAttributedLabel.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a>  </div>
  <div class="headertitle">
<div class="title">Nimbus Attributed Label</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="NIAttributedLabel.html">NIAttributedLabel</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">The <a class="el" href="NIAttributedLabel.html" title="The NIAttributedLabel class provides support for displaying rich text with selectable links and embed...">NIAttributedLabel</a> class provides support for displaying rich text with selectable links and embedded images.  <a href="NIAttributedLabel.html#details">More...</a><br/></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">protocol &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="NIAttributedLabelDelegate-Protocol.html">&lt;NIAttributedLabelDelegate&gt;</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">The methods declared by the <a class="el" href="NIAttributedLabelDelegate-Protocol.html" title="The methods declared by the NIAttributedLabelDelegate protocol allow the adopting delegate to respond...">NIAttributedLabelDelegate</a> protocol allow the adopting delegate to respond to messages from the <a class="el" href="NIAttributedLabel.html" title="The NIAttributedLabel class provides support for displaying rich text with selectable links and embed...">NIAttributedLabel</a> class and thus respond to selections.  <a href="NIAttributedLabelDelegate-Protocol.html#details">More...</a><br/></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Overview</h2>
<div id="github" feature="attributedlabel"></div> <p>The Nimbus Attributed Label is a UILabel that uses NSAttributedString to render rich text labels with links using CoreText.</p>
<div class="image">
<img src="NIAttributedLabelExample1.png" alt="NIAttributedLabelExample1.png"/>
<div class="caption">
A mashup of possible label styles</div></div>
 <h2>Minimum Requirements</h2>
<p>Required frameworks:</p>
<ul>
<li>Foundation.framework</li>
<li>UIKit.framework</li>
<li>CoreText.framework</li>
<li>QuartzCore.framework</li>
</ul>
<p>Minimum Operating System: <b>iOS 6.0</b></p>
<p>Source located in <code>src/attributedlabel/src</code></p>
<div class="fragment"><div class="line"><span class="preprocessor">#import &quot;NimbusAttributedLabel.h&quot;</span></div>
</div><!-- fragment --><h2>Basic Use</h2>
<p><a class="el" href="NIAttributedLabel.html" title="The NIAttributedLabel class provides support for displaying rich text with selectable links and embed...">NIAttributedLabel</a> is a subclass of UILabel. The attributed label maintains an <a href="http://developer.apple.com/library/ios/#documentation/Cocoa/Reference/Foundation/Classes/NSAttributedString_Class/Reference/Reference.html">NSAttributedString</a> object internally which is used in conjunction with CoreText to draw rich-text labels. A number of helper methods for modifying the text style are provided. If you need to directly modify the internal NSAttributedString you may do so by accessing the <code>attributedText</code> property.</p>
<div class="fragment"><div class="line"><a class="code" href="NIAttributedLabel.html">NIAttributedLabel</a>* label = [[<a class="code" href="NIAttributedLabel.html">NIAttributedLabel</a> alloc] initWithFrame:CGRectZero];</div>
<div class="line"></div>
<div class="line"><span class="comment">// The internal NSAttributedString will inherit all of UILabel&#39;s text attributes when we assign</span></div>
<div class="line"><span class="comment">// text.</span></div>
<div class="line">label.text = <span class="stringliteral">@&quot;Nimbus&quot;</span>;</div>
</div><!-- fragment --><h2>Interface Builder</h2>
<p>You can use an attributed label within Interface Builder by creating a UILabel and changing its class to <a class="el" href="NIAttributedLabel.html" title="The NIAttributedLabel class provides support for displaying rich text with selectable links and embed...">NIAttributedLabel</a>. This will allow you to set styles that apply to the entire string. If you want to style specific parts of the string then you will need to do this in code.</p>
<div class="image">
<img src="NIAttributedLabelIB.png" alt="NIAttributedLabelIB.png"/>
<div class="caption">
Configuring an attributed label in Interface Builder</div></div>
<h2>Feature Overview</h2>
<ul>
<li>Automatic link detection using data detectors</li>
<li>Link attributes</li>
<li>Explicit links</li>
<li>Underlining</li>
<li>Justifying paragraphs</li>
<li>Stroking</li>
<li>Kerning</li>
<li>Setting rich text styles at specific ranges</li>
</ul>
<h3>Automatic Link Detection</h3>
<p>Automatic link detection is provided using <a href="https://developer.apple.com/library/mac/#documentation/Foundation/Reference/NSDataDetector_Class/Reference/Reference.html">NSDataDetector</a>. Link detection is off by default and can be enabled by setting <a class="el" href="NIAttributedLabel.html#autoDetectLinks">autoDetectLinks</a> to YES. You may configure the types of data that are detected by modifying the <a class="el" href="NIAttributedLabel.html#dataDetectorTypes">dataDetectorTypes</a> property. By default only urls will be detected.</p>
<dl class="section attention"><dt>Attention</dt><dd><a class="el" href="NIAttributedLabel.html" title="The NIAttributedLabel class provides support for displaying rich text with selectable links and embed...">NIAttributedLabel</a> is not designed to detect html anchor tags (i.e. &lt;a&gt;). If you want to attach a URL to a given range of text you must use <a class="el" href="NIAttributedLabel.html#addLink:range:">addLink:range:</a>. You can add links to the attributed string using the attribute NIAttributedLabelLinkAttributeName. The NIAttributedLabelLinkAttributeName value must be a NSTextCheckingResult.</dd></dl>
<div class="image">
<img src="NIAttributedLabel_autoDetectLinksOff.png" alt="NIAttributedLabel_autoDetectLinksOff.png"/>
<div class="caption">
Before enabling autoDetectLinks</div></div>
 <div class="fragment"><div class="line"><span class="comment">// Enable link detection on the label.</span></div>
<div class="line">myLabel.autoDetectLinks = YES;</div>
</div><!-- fragment --><div class="image">
<img src="NIAttributedLabel_autoDetectLinksOn.png" alt="NIAttributedLabel_autoDetectLinksOn.png"/>
<div class="caption">
After enabling autoDetectLinks</div></div>
<p> Enabling automatic link detection will automatically enable user interation with the label view so that the user can tap the detected links.</p>
<h3>Link Attributes</h3>
<p>Detected links will use <a class="el" href="NIAttributedLabel.html#linkColor">linkColor</a> and <a class="el" href="">highlightedLinkColor</a> to differentiate themselves from standard text. highlightedLinkColor is the color of the highlighting frame around the text. You can easily add underlines to links by enabling <a class="el" href="NIAttributedLabel.html#linksHaveUnderlines">linksHaveUnderlines</a>. You can customize link attributes in more detail by directly modifying the <a class="el" href="NIAttributedLabel.html#attributesForLinks">attributesForLinks</a> property.</p>
<div class="image">
<img src="NIAttributedLabelLinkAttributes.png" alt="NIAttributedLabelLinkAttributes.png"/>
<div class="caption">
Link attributes</div></div>
 <h4>A note on performance</h4>
<p>Automatic link detection is expensive. You can choose to defer automatic link detection by enabling <a class="el" href="NIAttributedLabel.html#deferLinkDetection">deferLinkDetection</a>. This will move the link detection to a separate background thread. Once the links have been detected the label will be redrawn.</p>
<h3>Handling Taps on Links</h3>
<p>The <a class="el" href="NIAttributedLabelDelegate-Protocol.html" title="The methods declared by the NIAttributedLabelDelegate protocol allow the adopting delegate to respond...">NIAttributedLabelDelegate</a> protocol allows you to handle when the user taps on a given link. The protocol methods provide the tap point as well as the data pertaining to the tapped link.</p>
<div class="fragment"><div class="line">- (void)attributedLabel:(<a class="code" href="NIAttributedLabel.html">NIAttributedLabel</a> *)attributedLabel didSelectTextCheckingResult:(NSTextCheckingResult *)result atPoint:(CGPoint)point {</div>
<div class="line">  [[UIApplication sharedApplication] openURL:result.URL];</div>
<div class="line">}</div>
</div><!-- fragment --><h3>Explicit Links</h3>
<p>Links can be added explicitly using <a class="el" href="NIAttributedLabel.html#addLink:range:">addLink:range:</a>.</p>
<div class="fragment"><div class="line"><span class="comment">// Add a link to the string &#39;nimbus&#39; in myLabel.</span></div>
<div class="line">[myLabel addLink:[NSURL URLWithString:<span class="stringliteral">@&quot;nimbus://custom/url&quot;</span>]</div>
<div class="line">           range:[myLabel.text rangeOfString:<span class="stringliteral">@&quot;nimbus&quot;</span>]];</div>
</div><!-- fragment --><h3>Underlining Text</h3>
<p>To underline an entire label:</p>
<div class="fragment"><div class="line"><span class="comment">// Underline the whole label with a single line.</span></div>
<div class="line">myLabel.underlineStyle = kCTUnderlineStyleSingle;</div>
</div><!-- fragment --><p>Underline modifiers can also be added:</p>
<div class="fragment"><div class="line"><span class="comment">// Underline the whole label with a dash dot single line.</span></div>
<div class="line">myLabel.underlineStyle = kCTUnderlineStyleSingle;</div>
<div class="line">myLabel.underlineStyleModifier = kCTUnderlinePatternDashDot;</div>
</div><!-- fragment --><p>Underline styles and modifiers can be mixed to create the desired effect, which is shown in the following screenshot:</p>
<div class="image">
<img src="NIAttributedLabelExample2.png" alt="NIAttributedLabelExample2.png"/>
<div class="caption">
Underline styles</div></div>
 <dl class="section remark"><dt>Remarks</dt><dd>Underline style kCTUnderlineStyleThick only over renders a single line.</dd></dl>
<h3>Justifying Paragraphs</h3>
<p><a class="el" href="NIAttributedLabel.html" title="The NIAttributedLabel class provides support for displaying rich text with selectable links and embed...">NIAttributedLabel</a> supports justified text using UITextAlignmentJustify.</p>
<div class="fragment"><div class="line">myLabel.textAlignment = UITextAlignmentJustify;</div>
</div><!-- fragment --><h3>Stroking Text</h3>
<div class="fragment"><div class="line">myLabel.strokeWidth = 3.0;</div>
<div class="line">myLabel.strokeColor = [UIColor blackColor];</div>
</div><!-- fragment --><p>A positive stroke width will render only the stroke.</p>
<div class="image">
<img src="NIAttributedLabelExample3.png" alt="NIAttributedLabelExample3.png"/>
<div class="caption">
Black stroke of 3.0</div></div>
<p> A negative number will fill the stroke with textColor:</p>
<div class="fragment"><div class="line">myLabel.strokeWidth = -3.0;</div>
<div class="line">myLabel.strokeColor = [UIColor blackColor];</div>
</div><!-- fragment --><div class="image">
<img src="NIAttributedLabelExample4.png" alt="NIAttributedLabelExample4.png"/>
<div class="caption">
Black stroke of -3.0</div></div>
<h3>Kerning Text</h3>
<p>Kerning is the space between characters in points. A positive kern will increase the space between letters. Correspondingly a negative number will decrease the space.</p>
<div class="fragment"><div class="line">myLabel.textKern = -6.0;</div>
</div><!-- fragment --><div class="image">
<img src="NIAttributedLabelExample5.png" alt="NIAttributedLabelExample5.png"/>
<div class="caption">
Text kern of -6.0</div></div>
<h3>Setting Rich Text styles at specific ranges</h3>
<p>All styles that can be added to the whole label (as well as default UILabel styles like font and text color) can be added to just a range of text.</p>
<div class="fragment"><div class="line">[myLabel setTextColor:[UIColor orangeColor] range:[myLabel.text rangeOfString:<span class="stringliteral">@&quot;Nimbus&quot;</span>]];</div>
<div class="line">[myLabel setFont:[UIFont boldSystemFontOfSize:22] range:[myLabel.text rangeOfString:<span class="stringliteral">@&quot;iOS&quot;</span>]];</div>
</div><!-- fragment --> </div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.6-->
<!-- start footer part -->
<script type="text/javascript" src="widget.js"></script>
</body>
</html>
